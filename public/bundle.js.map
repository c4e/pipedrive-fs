{"version":3,"sources":["webpack:///webpack/bootstrap e8425881ff52fb366b91","webpack:///./app.js","webpack:///./main.scss"],"names":["angular","module","controller","$http","$timeout","$q","$log","$mdToast","self","upload","isDisabled","querySearch","selectedItemChange","searchTextChange","query","post","name","then","response","data","results","states","filter","createFilterFor","deferred","simulateQuery","defer","resolve","Math","random","promise","text","info","item","JSON","stringify","formData","FormData","uploading","forEach","files","obj","isRemote","append","lfFile","transformRequest","identity","uploadEventHandlers","progress","e","lengthComputable","progressBar","loaded","total","progressCounter","headers","undefined","result","resetValues","showToast","imported","err","error","message","show","simple","textContent","position","hideDelay"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e8425881ff52fb366b91","angular.module('pipedrive', ['lfNgMdFileInput', 'ngMaterial'])\n  .controller('MainCtrl', function ($http, $timeout, $q, $log, $mdToast) {\n    var self = this;\n    self.upload = upload;\n    self.isDisabled = false;\n\n    // list of `state` value/display objects\n    self.querySearch = querySearch;\n    self.selectedItemChange = selectedItemChange;\n    self.searchTextChange = searchTextChange;\n\n    // ******************************\n    // Internal methods\n    // ******************************\n    function querySearch(query) {\n      return $http.post('/search', {query: {name: query}})\n      .then((response) => {\n        return response.data;\n      });\n      var results = query ? self.states.filter(createFilterFor(query)) : self.states,\n        deferred;\n      if (self.simulateQuery) {\n        deferred = $q.defer();\n        $timeout(function () { deferred.resolve(results); }, Math.random() * 1000, false);\n        return deferred.promise;\n      } else {\n        return results;\n      }\n    }\n\n    function searchTextChange(text) {\n      $log.info('Text changed to ' + text);\n    }\n\n    function selectedItemChange(item) {\n      $log.info('Item changed to ' + JSON.stringify(item));\n    }\n\n    function upload() {\n      var formData = new FormData();\n      self.uploading = true;\n      angular.forEach(self.files, function (obj) {\n        if (!obj.isRemote) {\n          formData.append('files[]', obj.lfFile);\n        }\n      });\n      $http.post('/import', formData, {\n        transformRequest: angular.identity,\n        uploadEventHandlers: {\n          progress: function (e) {\n            if (e.lengthComputable) {\n              self.progressBar = (e.loaded / e.total) * 100;\n              self.progressCounter = self.progressBar;\n            }\n          }\n        },\n        headers: { 'Content-Type': undefined }\n      }).then(function (result) {\n        self.response = result;\n        resetValues();\n        showToast(`Import successful ${result.data.imported} users`); \n        $log.info(result);\n        // do sometingh                   \n      }, function (err) {\n        resetValues();\n        $log.error(err);\n        // do sometingh\n      });\n    }\n\n    function showToast(message) {\n      $mdToast.show(\n        $mdToast.simple()\n          .textContent(message)\n          .position('bottom right')\n          .hideDelay(3000)\n      );\n    }\n\n    function resetValues() {\n      self.uploading = false;\n      self.progressBar = 0;\n      self.progressCounter = 0;\n    }\n\n\n  });\n\n\n// WEBPACK FOOTER //\n// ./app.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./main.scss\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}